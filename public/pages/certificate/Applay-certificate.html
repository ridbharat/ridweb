<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Apply for Certificate</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
  <link rel="stylesheet" href../css/components/Apply-certificate.css">
</head>
<style>
    /* आपका मौजूदा CSS कोड यहाँ रहेगा */
    /* ... पूरा CSS ... */
</style>
<body>
  <header>
    <div class="header">
      <div class="web-text">
        <p>
          Website:
          <span>RID (Research Innovation & Discovery) by TWKSAA Welfare Foundation</span>
        </p>
        <p>Helpline: <span>+91 98927 82728</span></p>
        <p>Email: <span>supportid@gamil.com</span></p>
      </div>
      <div class="right-text">
        <a class="link"><object class="svg-object" data="/assets/icons/important_devices.svg"
            type="image/svg+xml"></object>Main Content</a>
        <a class="link" id="fontIncrease">+A A A-</a>
        <a class="link"><object class="svg-object" data="/assets/icons/forum.svg"
            type="image/svg+xml"></object>Feedback</a>
        <a class="link"><object class="svg-object" data="/assets/icons/support_agent.svg"
            type="image/svg+xml"></object>Support</a>
      </div>
    </div>
  </header>
  
  <div class="main-content">
    <div class="logo">
      <img src="../assets/background/final_logo.svg" alt="RID Logo" height="82px" />
    </div>
    
    <div class="form-header">
      <h1 class="form-title animate__animated animate__pulse">Apply for New Certificate</h1>
      <p class="form-subtitle">Fill out the form below to apply for your RID certificate. All fields marked with <span style="color: #e53e3e; font-weight: bold">*</span> are required.</p>
    </div>
    
    <div class="form-container">
      <div class="form-section animate__animated animate__fadeInLeft">
        <h2>Personal Information</h2>
        
        <form id="applicationForm">
          <div class="form-group">
            <label>Full Name <span>*</span></label>
            <input type="text" id="fullName" name="fullName" placeholder="Enter your full name" required>
          </div>
          
          <div class="form-group">
            <label>Father's Name <span>*</span></label>
            <input type="text" id="fatherName" name="fatherName" placeholder="Enter father's name" required>
          </div>
          
          <div class="form-row">
            <div class="form-group">
              <label>Date of Birth <span>*</span></label>
              <input type="date" id="dob" name="dob" required>
            </div>
            
            <div class="form-group">
              <label>Course <span>*</span></label>
              <select id="course" name="course" required>
                <option value="" disabled selected>Select a course</option>
                <option value="web_development">Web Development</option>
                <option value="data_science">Data Science</option>
                <option value="digital_marketing">Digital Marketing</option>
                <option value="graphic_design">Graphic Design</option>
                <option value="mobile_app">Mobile App Development</option>
                <option value="cybersecurity">Cybersecurity</option>
                <option value="ai_ml">Artificial Intelligence & Machine Learning</option>
                <option value="research_methodology">Research Methodology</option>
                <option value="innovation_management">Innovation Management</option>
              </select>
            </div>
          </div>

          <div class="form-group">
            <label>Apply For Certificate Type <span>*</span></label>
            <select id="certificateType" name="certificateType" required onchange="updateDurationField()">
              <option value="" disabled selected>Select certificate type</option>
              <option value="CERTIFICATE_OF_COMPLETION">CERTIFICATE OF COMPLETION</option>
              <option value="EXPERIENCE_LETTER">Experience Letter of Internship Completion at RID Bharat</option>
            </select>
          </div>
          
          <div class="form-row">
            <div class="form-group">
              <label>Phone Number <span>*</span></label>
              <input type="tel" id="phone" name="phone" placeholder="Enter your phone number" required pattern="[0-9]{10}">
            </div>
            
            <div class="form-group">
              <label>Email Address <span>*</span></label>
              <input type="email" id="email" name="email" placeholder="Enter your email address" required>
            </div>
          </div>
          
          <div class="form-row">
            <div class="form-group">
              <label>Start Date <span>*</span></label>
              <input type="date" id="startDate" name="startDate" required onchange="calculateDuration()">
            </div>
            
            <div class="form-group">
              <label>End Date <span>*</span></label>
              <input type="date" id="endDate" name="endDate" required onchange="calculateDuration()">
            </div>
          </div>
          
         <div class="form-row">
  <div class="form-group">
    <label>Duration <span>*</span></label>
    <input type="number" id="duration" name="duration" min="1" max="60" placeholder="e.g., 2" required>
  </div>
  
  <div class="form-group">
    <label>Duration Unit <span>*</span></label>
    <select id="durationUnit" name="durationUnit" required>
      <option value="" disabled selected>Select unit</option>
      <option value="weeks">Weeks</option>
      <option value="months">Months</option>
    </select>
  </div>
</div>


          <div class="form-group">
            <label>Project Name <span>*</span></label>
            <input type="text" id="projectName" name="projectName" placeholder="Enter your project name" required>
          </div>
          
          <div class="contact-info">
            <p><strong>Important:</strong> Certificate and updates will be sent to the provided email and phone number.</p>
            <p>Please ensure your contact information is correct.</p>
          </div>
          
          <div class="buttons">
            <button type="submit" id="submitBtn">
              <span class="material-symbols-outlined">send</span>Submit Application
            </button>
          </div>
          
          <div class="required-fields">
            <p>Fields marked with <span style="color: #e53e3e; font-weight: bold">*</span> are required</p>
          </div>
        </form>
        
        <div id="successMessage" class="success-message">
          <p><strong>Application Submitted Successfully!</strong></p>
          <p>Your application ID is: <strong id="appIdDisplay"></strong></p>
          <p>Your certificate application has been received. You will receive a confirmation email and SMS within 24 hours.</p>
          <p>Keep your application ID for future reference.</p>
        </div>
      </div>
      
      <div class="info-section animate__animated animate__fadeInRight">
        <h2>Application Guidelines</h2>
        
        <p>Welcome to RID's Certificate Application Portal. Please fill out the form completely to apply for a new certificate for internship, training program, seminar, webinar or workshop programs.</p>
        
        <h3>How to Apply:</h3>
        <ul>
          <li><strong>Step 1:</strong> Fill in your personal details accurately.</li>
          <li><strong>Step 2:</strong> Select the course you completed from the dropdown menu.</li>
          <li><strong>Step 3:</strong> Select the type of certificate you need.</li>
          <li><strong>Step 4:</strong> Provide your contact information (phone & email).</li>
          <li><strong>Step 5:</strong> Provide the start and end dates of your program.</li>
          <li><strong>Step 6:</strong> Duration will be automatically calculated.</li>
          <li><strong>Step 7:</strong> Enter the name of your project/work.</li>
          <li><strong>Step 8:</strong> Review your information and submit the application.</li>
        </ul>
        
        <h3>Certificate Types:</h3>
        <ul>
          <li><strong>CERTIFICATE OF COMPLETION:</strong> For short-term courses and training programs.</li>
          <li><strong>EXPERIENCE LETTER:</strong> For internship programs with detailed project work.</li>
        </ul>
        
        <h3>Important Information:</h3>
        <ul>
          <li>Certificates are issued within 7-10 working days after application approval.</li>
          <li>You will receive your certificate via email in PDF format.</li>
          <li>Application updates will be sent to your registered phone number and email.</li>
          <li>Keep your application ID safe for future reference and verification.</li>
          <li>For any queries, contact our support team at supportid@gamil.com or call +91 98927 82728</li>
        </ul>
        
        <div class="important-note">
          <p><strong>Note:</strong> Please ensure all information provided is accurate, especially your contact details. Incorrect information may delay the issuance of your certificate. All certificates are verified and validated through our online verification system.</p>
        </div>
      </div>
    </div>
  </div>

    // Duration calculation function
 
<script>
  // Form submission
  document.getElementById("applicationForm").addEventListener("submit", async (e) => {
    e.preventDefault();
    
    // Validate duration
    const duration = document.getElementById("duration").value;
    const durationUnit = document.getElementById("durationUnit").value;
    
    if (!duration || !durationUnit) {
      alert("Please enter duration and select unit");
      return;
    }
    
    // Show loading
    const submitBtn = document.getElementById("submitBtn");
    const originalText = submitBtn.innerHTML;
    submitBtn.innerHTML = '<span class="material-symbols-outlined">pending</span> Processing...';
    submitBtn.disabled = true;

    const data = {
      fullName: document.getElementById("fullName").value,
      fatherName: document.getElementById("fatherName").value,
      dob: document.getElementById("dob").value,
      course: document.getElementById("course").value,
      certificateType: document.getElementById("certificateType").value,
      phone: document.getElementById("phone").value,
      email: document.getElementById("email").value,
      duration: document.getElementById("duration").value,
      durationUnit: document.getElementById("durationUnit").value,
      startDate: document.getElementById("startDate").value,
      endDate: document.getElementById("endDate").value,
      projectName: document.getElementById("projectName").value
    };

    try {
      const res = await fetch('/api/apply', {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify(data)
      });

      const result = await res.json();
      
      if (result.success) {
        // Show success message with App ID
        document.getElementById("appIdDisplay").textContent = result.appId;
        document.getElementById("successMessage").style.display = "block";
        
        // Reset form
        document.getElementById("applicationForm").reset();
        
        // Scroll to success message
        document.getElementById("successMessage").scrollIntoView({ 
          behavior: 'smooth' 
        });
        
        // Auto-copy App ID to clipboard
        navigator.clipboard.writeText(result.appId).then(() => {
          alert("Application ID copied to clipboard: " + result.appId);
        });
      } else {
        alert(result.message || "Error submitting application");
      }
    } catch (error) {
      console.error(error);
      alert("Network error. Please try again.");
    } finally {
      submitBtn.innerHTML = originalText;
      submitBtn.disabled = false;
    }
  });
</script>
 
</body>
</html>